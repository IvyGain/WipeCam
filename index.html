<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>WipeCam</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation/selfie_segmentation.js" crossorigin="anonymous"></script>
</head>
<body>
  <div id="container">
    <video id="video" autoplay muted style="display: none;"></video>
    <canvas id="canvas"></canvas>
    
    <!-- Resize handles -->
    <div class="resize-handle nw" data-direction="nw"></div>
    <div class="resize-handle ne" data-direction="ne"></div>
    <div class="resize-handle sw" data-direction="sw"></div>
    <div class="resize-handle se" data-direction="se"></div>
    <div id="controls">
      <button id="toggle-bg" title="背景除去 (Ctrl+Shift+B)">🎭</button>
      <button id="settings" title="設定">⚙️</button>
      <button id="show-hotkeys" title="ホットキー一覧">⌨️</button>
      <button id="close" title="閉じる (Ctrl+Shift+Q)">✕</button>
    </div>
    <div id="settings-panel" class="settings-panel hidden">
      <div class="setting-group">
        <label>フィルタ強度</label>
        <input type="range" id="threshold-slider" min="0.1" max="0.9" value="0.5" step="0.1">
        <span id="threshold-value">0.5</span>
      </div>
      <div class="setting-group">
        <label>境界ぼかし</label>
        <input type="range" id="blur-slider" min="0" max="20" value="2" step="1">
        <span id="blur-value">2px</span>
      </div>
      <div class="setting-group">
        <label>エフェクト</label>
        <select id="effect-select">
          <option value="none">なし</option>
          <option value="vintage">ヴィンテージ</option>
          <option value="cool">クール</option>
          <option value="warm">ウォーム</option>
          <option value="noir">ノワール</option>
        </select>
      </div>
    </div>
    <div id="hotkeys-modal" class="modal" style="display: none;">
      <div class="modal-content">
        <h3>ホットキー一覧</h3>
        <div id="hotkeys-list"></div>
        <button id="close-modal">閉じる</button>
      </div>
    </div>
  </div>
  <script src="renderer.js"></script>
</body>
</html>